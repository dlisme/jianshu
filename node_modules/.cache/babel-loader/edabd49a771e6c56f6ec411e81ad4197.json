{"ast":null,"code":"var _jsxFileName = \"/Users/dl/Documents/jianshu/src/common/header/index.js\";\nimport React, { Component } from \"react\";\nimport { CSSTransition } from 'react-transition-group';\nimport { HeaderWrapper, Logo, Nav, NavItem, SearchWrapper, NavSearch, SearchInfo, SearchInfoTitle, SearchInfoList, SearchInfoItem, SearchInfoSwitch, Addition, Button } from \"./style\";\nimport { connect } from 'react-redux'; // import  * as actionCreators  from './store/actionCreators';\n\nimport { actionCreators } from './store'; // 无状态组件\n// const Header = (props) => {\n// }\n// const getListArea = (show) => {\n//   if (show) {\n//     return (\n//     <SearchInfo>\n//       <SearchInfoTitle>\n//         热门搜索\n//         <SearchInfoSwitch>\n//           换一批\n//         </SearchInfoSwitch>\n//       </SearchInfoTitle>\n//       <SearchInfoList>\n//         <SearchInfoItem>\n//           教育\n//         </SearchInfoItem>\n//       </SearchInfoList>\n//     </SearchInfo>\n//     )\n//   } else {\n//     return null;\n//   }\n// }\n\nclass Header extends Component {\n  constructor(props) {\n    super(props);\n  }\n\n  getListArea() {\n    const {\n      focused,\n      list,\n      page,\n      totalPage,\n      mouseIn,\n      handleMouseEnter,\n      handleMouseLeave,\n      handleChangePage\n    } = this.props;\n    const newList = list.toJS();\n    const pageList = [];\n\n    for (let i = (page - 1) * 10; i < page * 10; i++) {\n      pageList.push( /*#__PURE__*/React.createElement(SearchInfoItem, {\n        key: newList[i],\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 46,\n          columnNumber: 9\n        }\n      }, newList[i]));\n    }\n\n    if (focused || mouseIn) {\n      return /*#__PURE__*/React.createElement(SearchInfo, {\n        onMouseEnter: handleMouseEnter,\n        onMouseLeave: handleMouseLeave,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 51,\n          columnNumber: 7\n        }\n      }, /*#__PURE__*/React.createElement(SearchInfoTitle, {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 55,\n          columnNumber: 9\n        }\n      }, \"\\u70ED\\u95E8\\u641C\\u7D22\", /*#__PURE__*/React.createElement(SearchInfoSwitch, {\n        onClick: handleChangePage,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 57,\n          columnNumber: 11\n        }\n      }, \"\\u6362\\u4E00\\u6279\")), /*#__PURE__*/React.createElement(SearchInfoList, {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 61,\n          columnNumber: 9\n        }\n      }, pageList));\n    } else {\n      return null;\n    }\n  }\n\n  render() {\n    const {\n      focused,\n      handleInputFocus,\n      handleInputBlur\n    } = this.props;\n    return /*#__PURE__*/React.createElement(HeaderWrapper, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 74,\n        columnNumber: 7\n      }\n    }, /*#__PURE__*/React.createElement(Logo, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 75,\n        columnNumber: 9\n      }\n    }), /*#__PURE__*/React.createElement(Nav, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 76,\n        columnNumber: 9\n      }\n    }, /*#__PURE__*/React.createElement(NavItem, {\n      className: \"left active\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 77,\n        columnNumber: 11\n      }\n    }, \"\\u9996\\u9875\"), /*#__PURE__*/React.createElement(NavItem, {\n      className: \"left\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 80,\n        columnNumber: 11\n      }\n    }, \"\\u4E0B\\u8F7DApp\"), /*#__PURE__*/React.createElement(NavItem, {\n      className: \"right\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 83,\n        columnNumber: 11\n      }\n    }, \"\\u767B\\u5F55\"), /*#__PURE__*/React.createElement(NavItem, {\n      className: \"right\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 86,\n        columnNumber: 11\n      }\n    }, /*#__PURE__*/React.createElement(\"i\", {\n      className: \"iconfont\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 87,\n        columnNumber: 13\n      }\n    }, \"\\uE636\")), /*#__PURE__*/React.createElement(SearchWrapper, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 89,\n        columnNumber: 11\n      }\n    }, /*#__PURE__*/React.createElement(CSSTransition, {\n      in: focused,\n      timeout: 200,\n      classNames: \"slide\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 90,\n        columnNumber: 13\n      }\n    }, /*#__PURE__*/React.createElement(NavSearch, {\n      className: focused ? 'focused' : '',\n      onFocus: handleInputFocus,\n      onBlur: handleInputBlur,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 95,\n        columnNumber: 17\n      }\n    })), /*#__PURE__*/React.createElement(\"i\", {\n      className: focused ? 'focused iconfont' : 'iconfont',\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 103,\n        columnNumber: 13\n      }\n    }, \"\\uE60B\"), this.getListArea(focused))), /*#__PURE__*/React.createElement(Addition, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 107,\n        columnNumber: 9\n      }\n    }, /*#__PURE__*/React.createElement(Button, {\n      className: \"writting\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 108,\n        columnNumber: 11\n      }\n    }, /*#__PURE__*/React.createElement(\"i\", {\n      className: \"iconfont\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 109,\n        columnNumber: 13\n      }\n    }, \"\\uE708\"), \"\\u5199\\u6587\\u7AE0\"), /*#__PURE__*/React.createElement(Button, {\n      className: \"reg\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 112,\n        columnNumber: 11\n      }\n    }, \"\\u6CE8\\u518C\")));\n  }\n\n} // 取数据\n\n\nconst mapStateToProps = state => {\n  return {\n    // immutable对象, state也变成了一个immutable对象\n    focused: state.getIn(['header', 'focused']),\n    list: state.getIn(['header', 'list']),\n    page: state.getIn(['header', 'page']),\n    totalPage: state.getIn(['header', 'totalPage']),\n    mouseIn: state.getIn(['header', 'mouseIn'])\n  }; // focused: state.get('header').get('focused') 这种方式等价于以上方法\n  // focused: state.header.get('focused')\n  // focused: state.header.focused;\n}; // 改数据\n\n\nconst mapDispathToProps = dispatch => {\n  return {\n    handleInputFocus() {\n      // const action = {\n      //     type: 'search_focus'\n      // }\n      // 请求的数据放到redux-thunk中间件里面actions或者redux-saga里面进行处理\n      dispatch(actionCreators.getList());\n      dispatch(actionCreators.searchFocus());\n    },\n\n    handleInputBlur() {\n      // const action = {\n      //     type: 'search_blur'\n      // }\n      dispatch(actionCreators.searchBlur());\n    },\n\n    handleMouseEnter() {\n      dispatch(actionCreators.mouseEnter());\n    },\n\n    handleMouseLeave() {\n      dispatch(actionCreators.mouseLeave());\n    },\n\n    handleChangePage() {\n      dispatch(actionCreators.changePage());\n    }\n\n  };\n};\n\nexport default connect(mapStateToProps, mapDispathToProps)(Header);","map":{"version":3,"sources":["/Users/dl/Documents/jianshu/src/common/header/index.js"],"names":["React","Component","CSSTransition","HeaderWrapper","Logo","Nav","NavItem","SearchWrapper","NavSearch","SearchInfo","SearchInfoTitle","SearchInfoList","SearchInfoItem","SearchInfoSwitch","Addition","Button","connect","actionCreators","Header","constructor","props","getListArea","focused","list","page","totalPage","mouseIn","handleMouseEnter","handleMouseLeave","handleChangePage","newList","toJS","pageList","i","push","render","handleInputFocus","handleInputBlur","mapStateToProps","state","getIn","mapDispathToProps","dispatch","getList","searchFocus","searchBlur","mouseEnter","mouseLeave","changePage"],"mappings":"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","sourcesContent":["import React, { Component } from \"react\";\nimport { CSSTransition } from 'react-transition-group';\nimport { HeaderWrapper, Logo, Nav, NavItem, SearchWrapper, NavSearch, SearchInfo, SearchInfoTitle, SearchInfoList, SearchInfoItem, SearchInfoSwitch, Addition, Button } from \"./style\";\nimport { connect } from 'react-redux';\n// import  * as actionCreators  from './store/actionCreators';\nimport { actionCreators } from './store';\n\n// 无状态组件\n// const Header = (props) => {\n\n// }\n\n// const getListArea = (show) => {\n//   if (show) {\n//     return (\n//     <SearchInfo>\n//       <SearchInfoTitle>\n//         热门搜索\n//         <SearchInfoSwitch>\n//           换一批\n//         </SearchInfoSwitch>\n//       </SearchInfoTitle>\n//       <SearchInfoList>\n//         <SearchInfoItem>\n//           教育\n//         </SearchInfoItem>\n//       </SearchInfoList>\n//     </SearchInfo>\n//     )\n//   } else {\n//     return null;\n//   }\n// }\n\nclass Header extends Component {\n  constructor(props){\n    super(props);\n  }\n\n  getListArea(){\n    const { focused, list, page, totalPage, mouseIn, handleMouseEnter, handleMouseLeave, handleChangePage } = this.props;\n    const newList = list.toJS();\n    const pageList = [];\n    for(let i = (page - 1) * 10; i < page * 10; i++){\n      pageList.push(\n        <SearchInfoItem key={newList[i]}>{newList[i]}</SearchInfoItem>\n      )\n    }\n    if (focused || mouseIn) {\n      return (\n      <SearchInfo \n        onMouseEnter={handleMouseEnter}\n        onMouseLeave={handleMouseLeave}\n      >\n        <SearchInfoTitle>\n          热门搜索\n          <SearchInfoSwitch onClick={handleChangePage}>\n            换一批\n          </SearchInfoSwitch>\n        </SearchInfoTitle>\n        <SearchInfoList>\n          {pageList}\n        </SearchInfoList>\n      </SearchInfo>\n      )\n    } else {\n      return null;\n    }\n  }\n\n  render() {\n    const { focused, handleInputFocus, handleInputBlur } = this.props;\n    return (\n      <HeaderWrapper>\n        <Logo></Logo>\n        <Nav>\n          <NavItem className='left active'>\n            首页\n          </NavItem>\n          <NavItem className='left'>\n            下载App\n          </NavItem>\n          <NavItem className='right'>\n            登录\n          </NavItem>\n          <NavItem className='right'>\n            <i className=\"iconfont\">&#xe636;</i>\n          </NavItem>\n          <SearchWrapper>\n            <CSSTransition\n              in={focused}\n              timeout={200}\n              classNames=\"slide\"\n            >\n                <NavSearch\n                className={focused ? 'focused' : ''}\n                onFocus={handleInputFocus}\n                onBlur={handleInputBlur}\n                >\n\n                </NavSearch>\n            </CSSTransition>\n            <i className={focused ? 'focused iconfont' : 'iconfont'}>&#xe60b;</i>\n            {this.getListArea(focused )}\n          </SearchWrapper>\n        </Nav>\n        <Addition>\n          <Button className=\"writting\">\n            <i className=\"iconfont\">&#xe708;</i>\n            写文章\n          </Button>\n          <Button className=\"reg\">注册</Button>\n        </Addition>\n      </HeaderWrapper>\n    )\n  }\n\n}\n\n// 取数据\nconst mapStateToProps = (state) => {\n    return {\n      // immutable对象, state也变成了一个immutable对象\n      focused: state.getIn(['header', 'focused']),\n      list: state.getIn(['header', 'list']),\n      page: state.getIn(['header', 'page']),\n      totalPage: state.getIn(['header', 'totalPage']),\n      mouseIn: state.getIn(['header', 'mouseIn']),\n    }\n    // focused: state.get('header').get('focused') 这种方式等价于以上方法\n    // focused: state.header.get('focused')\n    // focused: state.header.focused;\n}\n\n// 改数据\nconst mapDispathToProps = (dispatch) => {\n    return {\n        handleInputFocus(){\n            // const action = {\n            //     type: 'search_focus'\n            // }\n            // 请求的数据放到redux-thunk中间件里面actions或者redux-saga里面进行处理\n            dispatch(actionCreators.getList());\n            dispatch(actionCreators.searchFocus());\n        },\n        handleInputBlur(){\n            // const action = {\n            //     type: 'search_blur'\n            // }\n            dispatch(actionCreators.searchBlur());\n        },\n        handleMouseEnter(){\n          dispatch(actionCreators.mouseEnter());\n        },\n        handleMouseLeave(){\n          dispatch(actionCreators.mouseLeave());\n        },\n        handleChangePage(){\n          dispatch(actionCreators.changePage());\n        }\n\n    }\n}\n\nexport default connect(mapStateToProps, mapDispathToProps) (Header);\n"]},"metadata":{},"sourceType":"module"}